% ------------------------------------------------------------------------
%                   ü”g”‚Ì’l‚©‚ç‹à‘®–_‚Ì’·‚³‚ğZo
%                               6/26/2019  by Y.H
%                     modified  6/28/2019  by S.S
% ------------------------------------------------------------------------
function L = calculation_length(r)
% set parameters
fm = 523.25;      % ü”g” [Hz]

E = 66.45*10^9; % ƒ„ƒ“ƒO—¦ [Pa]  ƒWƒ…ƒ‰ƒ‹ƒ~ƒ“: 66.45GPa, ‰©“º: 96GPa

% r = 20;         % ”¼Œa [mm]
l = 1000;       % ’·‚³ [mm]

q = 2652;       % –§“x [kg/m^3]


% unchanged
km = [0 4.73 7.8532 10.9956 14.1371 17.2787 20.4203 23.5619 26.7035 29.8451];

R = r/1000;     % ”¼Œa [m]
A = pi*R^2;     % ’f–ÊÏ [m^2]

I = pi/4*R^4;   % ’f–Ê“ñŸƒ‚[ƒƒ“ƒg
pm = 2*pi*fm;   % Špü”g”

L2 = km(7)^2/pm * sqrt(E*I/(q*A));
L = sqrt(L2); % ‹à‘®–_‚Ì’·‚³ [m]
L = L * 1000;

fprintf(['  ‹à‘®–_‚Ì’·‚³: ' num2str(L) ' mm\n\n'])
end